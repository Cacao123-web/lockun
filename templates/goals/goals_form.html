{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container py-4">
  <h3 class="mb-4 fw-bold text-green">Thêm mục tiêu cân nặng</h3>

  {# Hiển thị lỗi chung nếu có #}
  {% if form.non_field_errors %}
    <div class="alert alert-danger">
      {{ form.non_field_errors }}
    </div>
  {% endif %}

  <form method="post" class="card shadow-sm p-4">
    {% csrf_token %}

    <div class="row mb-3">
      <div class="col-md-6">
        <label class="form-label fw-bold">Loại mục tiêu</label>
        {{ form.type }}
        <small class="text-muted d-block mt-1">
          Chọn <b>Giảm cân</b>, <b>Tăng cân</b> hoặc <b>Duy trì</b>.
        </small>
        {% if form.type.errors %}
          <div class="text-danger small mt-1">{{ form.type.errors }}</div>
        {% endif %}
      </div>

      <div class="col-md-6">
        <label class="form-label fw-bold">Cân nặng mục tiêu (kg)</label>
        {{ form.target_value }}
        <small class="text-muted d-block mt-1">
          Ví dụ: 60 (kg). Hệ thống sẽ lấy cân nặng hiện tại trong hồ sơ làm mốc bắt đầu.
        </small>
        {% if form.target_value.errors %}
          <div class="text-danger small mt-1">{{ form.target_value.errors }}</div>
        {% endif %}
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <label class="form-label fw-bold">Hạn hoàn thành</label>
        {{ form.deadline }}
        <small class="text-muted d-block mt-1">
          Thời gian bạn muốn đạt được cân nặng mục tiêu.
        </small>
        {% if form.deadline.errors %}
          <div class="text-danger small mt-1">{{ form.deadline.errors }}</div>
        {% endif %}
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label fw-bold">Ghi chú</label>
      {{ form.note }}
      <small class="text-muted d-block mt-1">
        Ví dụ: “Kết hợp chạy bộ 4 buổi/tuần, ăn ít đồ ngọt…”
      </small>
      {% if form.note.errors %}
        <div class="text-danger small mt-1">{{ form.note.errors }}</div>
      {% endif %}
    </div>

    <button class="btn btn-green px-4 mt-2">Lưu mục tiêu</button>
  </form>
</div>
{% endblock %}
